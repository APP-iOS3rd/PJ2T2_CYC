# <img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/df66d998-8c93-4021-8a4b-939b88563ab3" width="40"> PJ2T2_CYC <img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/df66d998-8c93-4021-8a4b-939b88563ab3" width="40">

## <img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/df66d998-8c93-4021-8a4b-939b88563ab3" width="40"> ëª©ì°¨

1. [ì†Œê°œ](#-ì†Œê°œ)
2. [ì£¼ìš”ê¸°ëŠ¥](#â—-ì£¼ìš”ê¸°ëŠ¥)
3. [ì‹¤í–‰í™”ë©´](#ğŸ“±-ì‹¤í–‰-í™”ë©´)
4. [íƒ€ì„ë¼ì¸](#â°-íƒ€ì„ë¼ì¸)
5. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#â“-íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)
6. [ê°œë°œí™˜ê²½ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬](#ğŸ’»-ê°œë°œí™˜ê²½-ë°-ë¼ì´ë¸ŒëŸ¬ë¦¬)
7. [Tree](#ğŸŒ²-tree)

## <img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/df66d998-8c93-4021-8a4b-939b88563ab3" width="40"> ì†Œê°œ

### 1ì¼ 1ì»¤ë°‹ì„ í•˜ê³  ì‹¶ì€ë° ìê¾¸ ê¹Œë¨¹ì–´.. ì•Œë¦¼ ìˆì—ˆìœ¼ë©´ ì¢‹ê² ë‹¤..

> `ì—´ì • ë§ì€ ê°œë°œì`, push í•´ì•¼ë˜ëŠ”ë° ìŠì–´ë²„ë¦° ë§ˆê° ê¸‰í•œ ê°œë°œì ë“±ë“±ì„ ìœ„í•œ 1ì¼ 1ì»¤ë°‹ ê°•ìš”ì•±  
> ì €í¬ CYC(Check your commit)ëŠ” í¬ê²Œ commit ì•Œë¦¼ ê¸°ëŠ¥, ê°„ë‹¨í•œ todo listë¥¼ ê°–ê³  ìˆìŠµë‹ˆë‹¤.

#### ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ íŒ€ì›

|[ê°•ì¹˜ìš°](https://github.com/kangciu)|[ê¹€ëª…í˜„](https://github.com/kmh5038)|[ì´ë¯¼ì˜](https://github.com/Mminy62)|[í™©ë¯¼ì±„](https://github.com/Hminchae)|[í™©ì„±ì§„](https://github.com/Hsungjin)|
|-----------|-----------|-----------|------------|------------|
|<img src="https://avatars.githubusercontent.com/u/112779139?v=4" width="100">|<img src="https://avatars.githubusercontent.com/u/144766297?v=4" width="100">|<img src="https://avatars.githubusercontent.com/u/66752398?v=4" width="100">|<img src="https://avatars.githubusercontent.com/u/103357078?v=4" width="100">|<img src="https://avatars.githubusercontent.com/u/120264964?s=400&u=cfba7c275af35a6823aee13f536b5a08d8f71a52&v=4" width="100">|

#### ğŸ”— Links

- [ğŸ“„ Notion](https://grateful-lemongrass-93f.notion.site/Check-Your-Commit-6142b220db1a43cc90dd2a45bf8d1062?pvs=4)
- [ğŸ–Œï¸ Figma](https://www.figma.com/file/R6VtqCKvHOqAfwCT4eJigH/Check-Your-Commit?type=design&node-id=0%3A1&mode=design&t=sPzQFRbQJtw6fSGw-1)

## <img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/df66d998-8c93-4021-8a4b-939b88563ab3" width="40"> ì£¼ìš”ê¸°ëŠ¥

1. ê¹ƒí—ˆë¸Œ OAuthë¥¼ í†µí•œ ë¡œê·¸ì¸ ì—°ë™
   - OAuth AcessTokenì„ ë°”íƒ•ìœ¼ë¡œ ìœ ì € ì •ë³´ë¥¼ í™œìš©
   - ìœ ì € ì •ë³´ë¥¼ custom ProgressView, GrassView ë“± í™œìš©
2. ëª©í‘œë‹¬ì„±ì„ ë„ì™€ì£¼ëŠ” ì±Œë¦°ì§€ ì„¤ì •
   - MainViewì—ì„œ D-Dayë¥¼ ì œê³µí•¨ìœ¼ë¡œ, ëª©í‘œë¥¼ ê°€ì‹œì ìœ¼ë¡œ í™•ì¸
3. ì˜¤ëŠ˜ ì»¤ë°‹ì„ ìœ„í•´ í• ì¼ì„ ê¸°ë¡í•˜ëŠ” TodoList
4. ì•ŒëŒì„ í†µí•´ ì¼ì •ì‹œê°„ë§ˆë‹¤ ì»¤ë°‹ ì²´í¬

## <img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/df66d998-8c93-4021-8a4b-939b88563ab3" width="40"> ì‹¤í–‰ í™”ë©´

|ì•± í™”ë©´|
|:--:|
|<img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/ca70e57d-05f5-4bbb-a779-0b0bf6c4a989" width="">|

|ë¼ì´íŠ¸ ëª¨ë“œ|ë‹¤í¬ ëª¨ë“œ|
|:--:|:--:|
|<img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/fca4d518-9f9b-4f7e-a72f-fa45129843ef" width="300">|<img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/17639f09-f73f-4de2-97b9-607e01b44148" width="300">|

## <img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/df66d998-8c93-4021-8a4b-939b88563ab3" width="40"> íƒ€ì„ë¼ì¸

<details>
<summary>Step 1 íƒ€ì„ë¼ì¸</summary>

- 23.12.5 ~ 23.12.6
  - íŒ€ë¹Œë”©
  - ì•„ì´ë””ì–´ í† ì˜
  - ì•„ì´ë””ì–´ êµ¬í˜„ ë°©ì•ˆ í† ì˜

</details>

<details>

<summary>Step 2 íƒ€ì„ë¼ì¸</summary>

- 23.12.06 ~ 23.12.07
  - Figmaë¥¼ ê¸°ë³¸ ë””ìì¸ í”„ë¡œí† íƒ€ì… ì œì‘
  - ê° ê¸°ëŠ¥ë³„ êµ¬í˜„ ë°©ì•ˆ í† ì˜
  - ê° íŒŒíŠ¸ë³„ ì—­í•  ë¶„ë°°
  - í”„ë¡œì íŠ¸ ê°œë°œ ì‹œì‘
- 23.12.12 ~ 23.12.13
  - ì•± ì•„ì´ì½˜ ì œì‘

</details>

<details>
<summary>Step 3 íƒ€ì„ë¼ì¸</summary>

- 23.12.06
  - ê¸°ë³¸ ì•± êµ¬ì¡° ì œì‘
  - ì»¤ìŠ¤í…€ í°íŠ¸, ì»¬ëŸ¬ Aseet ì ìš©
- 23.12.07 ~ 23.12.11
  - ê¹ƒí—ˆë¸Œ OAuth ë¡œê·¸ì¸ êµ¬í˜„
  - OAuth ë°ì´í„°ë¥¼ í†µí•´ ìœ ì € ì •ë³´ ë°›ì•„ì˜¤ëŠ” ë¶€ë¶„ êµ¬í˜„
- 23.12.07 ~ 23.12.14
  - ì•Œë¦¼ê¸°ëŠ¥ êµ¬í˜„
  - Todo List êµ¬í˜„
- 23.12.11 ~ 23.12.14
  - ê¹ƒí—ˆë¸Œ APIë¥¼ ì´ìš©í•œ GrassView êµ¬í˜„
  - ê¹ƒí—ˆë¸Œ APIë¡œ ë°›ì•„ì˜¨ ì»¤ë°‹ì¼ìˆ˜ë¡œ D-day ê³„ì‚°ê¸° êµ¬í˜„
- 23.12.14
  - ë¼ì´íŠ¸ ëª¨ë“œ, ë‹¤í¬ëª¨ë“œ ë³€í™˜ ë²„íŠ¼ êµ¬í˜„

</details>

## <img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/07efd7af-52fa-4a0a-9c65-ade6de6275ed" width="40"> íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

### Step1

<details>
<summary>APIë¥¼ í†µí•´ JSON ìœ ì € ë°ì´í„°ê°€ ì •ìƒì ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ì§€ì§€ ì•ŠìŒ</summary>

- `Git API`ë¥¼ í†µí•´ ìœ ì € ë°ì´í„°ê°€ JSON í˜•ì‹ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ì§€ì§€ ì•ŠëŠ” ë¬¸ì œ

```Swift
func getUser() {
        let accessToken = KeychainSwift().get("accessToken") ?? ""
        let headers: HTTPHeaders = ["Accept": "application/vnd.github.v3+json",
                                    "Authorization": "token \(accessToken)"]
        
        AF.request(githubApiURL+ApiPath.USER.rawValue,
                   method: .get,
                   parameters: [:],
                   headers: headers).responseJSON(completionHandler: { (response) in
            switch response.result {
            case .success(let json):
                print(json as! [String: Any])
            case .failure:
                print("")
            }
        })
    }
```

- [ê¹ƒí—ˆë¸Œ ìœ ì € API ê³µì‹ë¬¸ì„œ]("https://docs.github.com/ko/rest/users/users?apiVersion=2022-11-28#get-the-authenticated-user") í•´ë‹¹ ë¬¸ì„œì˜ í˜•íƒœë¡œ curl ì„ ì‚¬ìš©í•˜ë©´ ì •ìƒì ìœ¼ë¡œ JSON í˜•íƒœì˜ ë°ì´í„°ê°€ ë°›ì•„ì™€ ì§€ëŠ” ê²ƒì„ í™•ì¸
- APIë¥¼ ë°›ì•„ì˜¤ëŠ” ê³¼ì •ì—ì„œ responseJSON ì˜ í˜•íƒœê°€ ì•„ë‹ˆë¼ responseString í˜¹ì€ responseDecodable ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ë°ì´í„°ê°€ ë°›ì•„ì™€ ì§€ëŠ” ê²ƒì„ í™•ì¸
- structë¥¼ í†µí•´ Userë¥¼ ì„ ì–¸í•˜ê³  responseDecodable ë¡œ í•´ë‹¹ ë°ì´í„°ë¥¼ í• ë‹¹ì‹œí‚¤ëŠ” ë°©ë²•ìœ¼ë¡œ í™œìš©

```Swift
    struct User: Decodable {
        let login: String
        let name: String
    }

    func getUser() {
        let headers: HTTPHeaders = ["Accept": "application/vnd.github+json",
                                    "Authorization": "Bearer \(access_token!)"]
        
        AF.request("https://api.github.com/user",
                   method: .get, parameters: [:],
                   headers: headers).responseDecodable(of: User.self) { response in
            switch response.result {
            case .success(let user):
                self.userLogin = user.login
                self.userName = user.name
                self.getCommitData()
            case .failure(let error):
                print("Error: \(error.localizedDescription)")
            }
        }
    }
```

- REST APIì˜ ì£¼ì†Œê°€ ëª…í™•í•œì§€ í™•ì¸í•˜ê¸°ìœ„í•´ curlì˜ í™œìš©ë²•ì„ ì•Œê²Œë¨.

</details>

### Step2

<details>
<summary>UserDefaultsì˜ ì‚¬ìš©</summary>

- `API` ë¥¼ í™œìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì•¡ì„¸ìŠ¤í† í° ê°’ì´ ì ˆëŒ€ì ìœ¼ë¡œ í•„ìš”, ì•±ì„ ì¢…ë£Œ ì‹œì¼œë„ í•´ë‹¹ ê°’ì€ ìœ íš¨í•´ì•¼ ë¨
- AppStorageë¥¼ ì‚¬ìš©í•˜ë ¤ í–ˆì§€ë§Œ ë‹¤ë¥¸ ë·°ì—ì„œë„ ì‚¬ìš©í•˜ê³  ì°¸ì¡°í•´ì•¼ ë˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì´ ì–´ë ¤ì›€

```Swift
class LoginModel: ObservableObject {

    static let shared = LoginModel()

    @Published var code: String?
    @Published var access_token: String?
    @Published var userLogin: String?
```

- UserDefaults ë¡œ í•´ë‹¹ ë³€ìˆ˜ë“¤ì„ ì„ ì–¸í•˜ê³  extensionì„ í†µí•´ set, get ë¶€ë¶„ì„ ì ìš©
- init() ë¶€ë¶„ì„ í†µí•´ ì„ ì–¸ëœ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”

```Swift
    @Published var access_token: String? {
        didSet {
            UserDefaults.standard.setAccessToken(access_token ?? "")
        }
    }
    
    @Published var userName: String? {
        didSet {
            UserDefaults.standard.setUserName(userName ?? "")
        }
    }

    @Published var userLogin: String? {
        didSet {
            UserDefaults.standard.setUserLogin(userLogin ?? "")
        }
    }
    
    var results: [(String, String)] = []
    @Published var testCase:[String:Int] = [:]
    
    // UserDefaultsë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ init ë¶€ë¶„
    init() {
        self.userLogin = UserDefaults.standard.getUserLogin()
        self.access_token = UserDefaults.standard.getAccessToken()
        self.userName = UserDefaults.standard.getUserName()
    }


// UserDefaultsì˜ extension ë¶€ë¶„ 
    extension UserDefaults {
        private static let userLoginKey = "userLoginKey"

        func setUserLogin(_ login: String) {
            set(login, forKey: UserDefaults.userLoginKey)
        }

        func getUserLogin() -> String? {
            return string(forKey: UserDefaults.userLoginKey)
        }
    }

    extension UserDefaults {
        private static let userAcessToken = "acessToken"

        func setAccessToken(_ token: String) {
            set(token, forKey: UserDefaults.userAcessToken)
        }

        func getAccessToken() -> String? {
            return string(forKey: UserDefaults.userAcessToken)
        }
    }

    extension UserDefaults {
        private static let userNickname = "userNickname"

        func setUserName(_ name: String) {
            set(name, forKey: UserDefaults.userNickname)
        }

        func getUserName() -> String? {
            return string(forKey: UserDefaults.userNickname)
        }
    }
```

</details>

### Step3

<details>
<summary>FCMì—ì„œ userNotificationsë¡œ ì „í™˜í•œ ì´ìœ </summary>

ì²˜ìŒ êµ¬í˜„í•˜ê³ ì í–ˆë˜ ê¸°ëŠ¥ì˜ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤.

> 1. `APNs`ì— ë””ë°”ì´ìŠ¤ `í† í°`ì„ ìš”ì²­
> 2. `APNs`ì—ì„œ ë°›ì€ ë””ë°”ì´ìŠ¤ `í† í°`ì„ `Push server`ì— ë„˜ê¹€
> 3. `APNs`ì— í‘¸ì‰¬ì•Œë¦¼ì„ ë³´ë‚¼ ë°ì´í„°ë¥¼ ì „ë‹¬
> 4. `APNs`ì— ìˆëŠ” ë°ì´í„°ë¥¼ ë°›ì•„ì„œ ìœ ì €ì˜ í°ì—ì„œ ì•Œë¦¼ ì „ë‹¬

```Swift
import SwiftUI
import FirebaseCore
import FirebaseMessaging

class AppDelegate: NSObject, UIApplicationDelegate {
    func application(_ application: UIApplication,
                     didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil) -> Bool {
        FirebaseApp.configure()

        // ì›ê²© ì•Œë¦¼ ë“±ë¡
        if #available(iOS 10.0, *) {
            // For iOS 10 display notification (sent via APNS)
            UNUserNotificationCenter.current().delegate = self

            let authOptions: UNAuthorizationOptions = [.alert, .badge, .sound]
            UNUserNotificationCenter.current().requestAuthorization(
                options: authOptions,
                completionHandler: { _, _ in }
            )
        } else {
            let settings: UIUserNotificationSettings =
            UIUserNotificationSettings(types: [.alert, .badge, .sound], categories: nil)
            application.registerUserNotificationSettings(settings)
        }

        application.registerForRemoteNotifications()

        // Firebase ê°€ í‘¸ì‹œ ë©”ì‹œì§€ë¥¼ ëŒ€ì‹  ì „ì†¡í•  ìˆ˜ ìˆë„ë¡ ëŒ€ë¦¬ìë¥¼ ì„¤ì •í•˜ëŠ” ê³¼ì • (MessagingDelegate)
        Messaging.messaging().delegate = self


        // í‘¸ì‹œ í¬ê·¸ë¼ìš´ë“œ ì„¤ì •
        UNUserNotificationCenter.current().delegate = self

        return true
        //Messagingì— ë“±ë¡ëœ í† í°ì€ messaging:didReceiveRegistrationToken í”„ë¡œí† ì½œ ë©”ì„œë“œë¥¼ 1íšŒ í˜¸ì¶œí•¨ - ìƒˆë¡œ ë“±ë¡ëœ í† í°ì´ë¼ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¡œ ì „ì†¡/ ì•„ë‹ˆë¼ë©´ ë“±ë¡ëœ í† í°ì„ êµ¬ë… ì²˜ë¦¬í•´ì¤Œ
    }


    // fcm í† í°ì´ ë“±ë¡ ë˜ì—ˆì„ ë•Œ
    func application(_ application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data) {
        Messaging.messaging().apnsToken = deviceToken
    }
}

@main
struct CYCApp: App {
struct YourApp: App {
    // register app delegate for Firebase setup
    @UIApplicationDelegateAdaptor(AppDelegate.self) var delegate
    

    var body: some Scene {
        WindowGroup {
            AboutCYC()
        }
    }
}
extension AppDelegate : MessagingDelegate {

    // fcm ë“±ë¡ í† í°ì„ ë°›ì•˜ì„ ë•Œ
    func messaging(_ messaging: Messaging, didReceiveRegistrationToken fcmToken: String?) {
        print("Firebase registration token: \(String(describing: fcmToken))")
        let dataDict: [String: String] = ["token": fcmToken ?? ""]
        NotificationCenter.default.post(
            name: Notification.Name("FCMToken"),
            object: nil,
            userInfo: dataDict
        )
    }
}

extension AppDelegate : UNUserNotificationCenterDelegate {

    // í‘¸ì‹œë©”ì„¸ì§€ê°€ ì•±ì´ ì¼œì ¸ ìˆì„ë•Œ ë‚˜ì˜¬ë•Œ
    // completionHandlerë¡œ "UNNotificationPresentationOptions"ë¥¼ ë°˜í™˜í•¨
    // ì‚¬ìš©ìê°€ ë¨¸ë¬´ë¥´ê³  ìˆëŠ” í™”ë©´ì— ë”°ë¼ í¬ê·¸ë¼ìš´ë“œ ìƒíƒœì—ì„œì˜ í‘¸ì‹œë¥¼ ë³´ì—¬ì¤„ì§€ ì•„ë‹ì§€ì— ëŒ€í•œ ë¶„ê¸°ì²˜ë¦¬ê°€ ê°€ëŠ¥(ex.ì¹´í†¡ì±„íŒ…ë°©ì—ì„œ í‘¸ì‹œë¥¼ ë„ìš°ì§€ ì•ŠëŠ” ë“±)
    func userNotificationCenter(_ center: UNUserNotificationCenter,
                                willPresent notification: UNNotification,
                                withCompletionHandler completionHandler: @escaping (UNNotificationPresentationOptions) -> Void) {

        let userInfo = notification.request.content.userInfo

        print("willPresent: userInfo: ", userInfo)

        completionHandler([.banner, .sound, .badge])

        // Notification ë¶„ê¸°ì²˜ë¦¬
        if userInfo[AnyHashable("Check Your Commit")] as? String == "project" {
            print("CYC project")
        }else {
            print("NOTHING")
        }
    }

    // í‘¸ì‹œë©”ì„¸ì§€ë¥¼ ë°›ì•˜ì„ ë•Œ
    func userNotificationCenter(_ center: UNUserNotificationCenter,
                                didReceive response: UNNotificationResponse,
                                withCompletionHandler completionHandler: @escaping () -> Void) {
        let userInfo = response.notification.request.content.userInfo
        print("didReceive: userInfo: ", userInfo)
        completionHandler()
    }
}
```

ìœ„ ì½”ë“œë¡œ í† í°ì„ ë°›ì•„ ìˆ˜ë™ìœ¼ë¡œ Firebase messiging ì„œë²„ì— ì§ì ‘ ë“±ë¡í•˜ê³  ì•±ì— ì•Œë¦¼ì„ ë°›ëŠ”ë°ì— ì„±ê³µí–ˆë‹¤.í•˜ì§€ë§Œ ë¬¸ì œëŠ” ë‹¤ìˆ˜ ìœ ì €ì˜ í† í°ì„ ì–´ë–»ê²Œ ë°›ì•„ì„œ ë©”ì‹œì§• ì„œë²„ì— ì˜¬ë ¤ì£¼ëŠëƒì˜€ë‹¤. ì„œë²„ì—†ì´ FCMë§Œ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ ë‘ ì¡°ê±´ì„ ë™ì‹œì— ë§Œì¡±í•˜ëŠ” ìœ ì €ì—ê²Œë§Œ ì•Œë¦¼ì„ ì¤„ ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ìƒê°í•˜ì—¬ì•¼ í–ˆë‹¤.
> - ì‚¬ìš©ìê°€ ì¼ì • ì‹œê°„ì— ì»¤ë°‹í•˜ì˜€ëŠ”ê°€
> - ì‚¬ìš©ìê°€ ì•Œë¦¼ ì„¤ì • í† ê¸€ì„ on í•˜ì˜€ëŠ”ê°€

ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì„œë²„ê°€ ì €ì¥í•˜ê³  ìˆì–´ì•¼ ìœ„ ë‘ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤ê³  ê²°ë¡ ì„ ë‚´ë ¸ê³ , ì´ë²ˆ ê°œë°œ ê¸°ê°„ì—ëŠ” `ì‚¬ìš©ìê°€ ì•Œë¦¼ ì„¤ì • í† ê¸€ì„ on í•˜ì˜€ì„ ë•Œ` 7ì‹œ ì´í›„ ë§¤ ì‹œê°„ë§ˆë‹¤ ì•Œë¦¼ì„ ì£¼ëŠ” ê¸°ëŠ¥ë§Œì„ êµ¬í˜„í•˜ê¸°ë¡œ í•˜ì˜€ë‹¤. ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ”ë°ì— FCMì„ êµ³ì´ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë‚´ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ userNotifications ì„ ì‚¬ìš©í•˜ì˜€ë‹¤. 

- `AppDelegate.swift`
```Swift
import SwiftUI
import UserNotifications

class AppDelegate: NSObject, UIApplicationDelegate {
    
    func application(_ application: UIApplication,
                     didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil) -> Bool {
        
        // ì•± ì‹¤í–‰ ì‹œ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ í—ˆìš© ê¶Œí•œì„ ë°›ìŒ
        UNUserNotificationCenter.current().delegate = self
        
        
        let authOptions: UNAuthorizationOptions = [.alert, .badge, .sound] // í•„ìš”í•œ ì•Œë¦¼ ê¶Œí•œì„ ì„¤ì •
        UNUserNotificationCenter.current().requestAuthorization(
            options: authOptions,
            completionHandler: { _, _ in }
        )
        return true
    }
}

extension AppDelegate: UNUserNotificationCenterDelegate {
    
    // Foreground(ì•± ì¼œì§„ ìƒíƒœ)ì—ì„œë„ ì•Œë¦¼ ì˜¤ëŠ” ì„¤ì •
    func userNotificationCenter(_ center: UNUserNotificationCenter, willPresent notification: UNNotification, withCompletionHandler completionHandler: @escaping (UNNotificationPresentationOptions) -> Void) {
        completionHandler([.list, .banner])
    }
}
```
ì•±ë¸ë¦¬ê²Œì´íŠ¸ì—ì„œ ì•Œë¦¼ê¶Œí•œì„ ì„¤ì •í•´ì£¼ì—ˆë‹¤.
- `NotificationHelper.swift`
```swift
import Foundation
import UIKit
import UserNotifications

//
// - Note: ì‹±ê¸€í„´ìœ¼ë¡œ êµ¬í˜„ `LocalNotificationHelper.shared`ë¥¼ í†µí•´ ì ‘ê·¼
class LocalNotificationHelper {
    static let shared = LocalNotificationHelper()
    
    private init() {}
    
    ///Push Notificationì— ëŒ€í•œ ì¸ì¦ ì„¤ì • í•¨ìˆ˜
    func setAuthorization() {
        let authOptions: UNAuthorizationOptions = [.alert, .badge, .sound] // í•„ìš”í•œ ì•Œë¦¼ ê¶Œí•œì„ ì„¤ì •
        UNUserNotificationCenter.current().requestAuthorization(
            options: authOptions,
            completionHandler: { _, _ in }
        )
    }
    // í•˜ë£¨ë¥¼ ì£¼ê¸°ë¡œ íŠ¹ì • ì‹œê°„ì— Notificationì„ ë³´ë‚´ëŠ” ì½”ë“œ
    func pushScheduledNotification(title: String, body: String, hour: Int, identifier: String) {
        
        assert(hour >= 0 || hour <= 24, "ì‹œê°„ì€ 0ì´ìƒ 24ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        
        let notificationContent = UNMutableNotificationContent()
        notificationContent.title = title
        notificationContent.body = body
        
        var dateComponents = DateComponents()
        dateComponents.hour = hour  // ì•Œë¦¼ì„ ë³´ë‚¼ ì‹œê°„ (24ì‹œê°„ í˜•ì‹)
        
        let trigger = UNCalendarNotificationTrigger(dateMatching: dateComponents, repeats: true)
        let request = UNNotificationRequest(identifier: identifier,
                                            content: notificationContent,
                                            trigger: trigger)
        
        UNUserNotificationCenter.current().add(request) { error in
            if let error = error {
                print("Notification Error: ", error)
            }
        }
    }
    
    /// ëŒ€ê¸°ì¤‘ì¸ Push Notificationì„ ì¶œë ¥
    func printPendingNotification() {
        UNUserNotificationCenter.current().getPendingNotificationRequests { requests in
            for request in requests {
                print("Identifier: \(request.identifier)")
                print("Title: \(request.content.title)")
                print("Body: \(request.content.body)")
                print("Trigger: \(String(describing: request.trigger))")
                print("---")
            }
        }
    }
    //ì•Œë¦¼ ì „ì²´ì‚­ì œ
    func removeAllNotifications() {
        UNUserNotificationCenter
            .current().removeAllDeliveredNotifications()
        UNUserNotificationCenter
            .current().removeAllPendingNotificationRequests()
    }
}
```
NotificationHelper í´ë˜ìŠ¤ì—ì„œ ì•Œë¦¼ì— í•„ìš”í•œ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤.
- `NotificationView`
```swift
class NotificationSettings: ObservableObject {
    @Published var isOnNotification: Bool {
        didSet {
            UserDefaults.standard.set(isOnNotification, forKey: "isOnNotification")
        }
    }
    
    init() {
        self.isOnNotification = UserDefaults.standard.bool(forKey: "isOnNotification")
    }
}
.
.
VStack(alignment: .leading) {
    Toggle(isOn: $isOnNotification, label: {
        
        // MARK: - ì•Œë¦¼ ì„¤ì • í† ê¸€
        Text("ì•Œë¦¼ ì„¤ì •")
            .font(.pretendardBold_25)
    }).onChange(of: isOnNotification, initial: false, techNotification)
.
.
func techNotification() {
    if isOnNotification {
      LocalNotificationHelper.shared.printPendingNotification()
      LocalNotificationHelper
        .shared
        .pushScheduledNotification(title: "Check Your Commit",
                                   body: "ì»¤ë°‹í•´ì¤˜ì—¬..ğŸ«¶",
                                   hour: 18,
                                   identifier: "SCHEDULED_NOTI18")
    } else if {
        LocalNotificationHelper.shared.removeAllNotifications()
    }
}
.
.
```
ì•Œë¦¼ ì„¤ì •ë·°ì—ì„œ í† ê¸€ê°’ì´ onì¼ ë•Œ ì•Œë¦¼ì´ ì•Œë¦¼ì„¼í„°ì— ì˜¬ë¼ê°€ë„ë¡ êµ¬í˜„í•˜ê³ , off ì‹œì—” ì•Œë¦¼ì„¼í„°ì˜ ì•Œë¦¼ì„ ëª¨ë‘ ì‚­ì œí•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ë‹¤. 
</details>

## <img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/df66d998-8c93-4021-8a4b-939b88563ab3" width="40"> ê°œë°œí™˜ê²½ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬

    SwiftUI
    Xcode 15.1
    iOS 17.1
    Language - Swift 5.5.3
    ì•ŒëŒ - UserNotification
    API - Alamofire
    Todo - SwiftData
    GrassView - SwiftSoup


## <img src="https://github.com/APP-iOS3rd/PJ2T2_CYC/assets/120264964/df66d998-8c93-4021-8a4b-939b88563ab3" width="40"> Tree

```
ğŸ“¦CYC
 â”£ ğŸ“‚ Main
 â”ƒ â”— ğŸ“œ MainView.swift
 â”£ ğŸ“‚ Login
 â”ƒ â”ƒ â”£ ğŸ“‚ extension
 â”ƒ â”ƒ â”— ğŸ“œ extensionOfUserDefaults.ttf
 â”ƒ â”£ ğŸ“œ OnboardingTabView.swift
 â”ƒ â”£ ğŸ“œ LoginView.swift
 â”ƒ â”— ğŸ“œ LoginModel.swift
 â”ƒ â”ƒ â”£ ğŸ“‚ Font
 â”£ ğŸ“‚ Setting
 â”ƒ â”£ ğŸ“‚ PersonProfile
 â”ƒ â”ƒ â”£ ğŸ“‚ View
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œ PersonGridView.swift
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œ AboutCYC.swift
 â”ƒ â”ƒ â”£ ğŸ“‚ Model
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œ PersonModel.swift
 â”ƒ â”£ ğŸ“‚ ViewModel
 â”ƒ â”ƒ â”£ ğŸ“œ LicenseViewModel.swift
 â”ƒ â”ƒ â”— ğŸ“œ SettingViewModel.swift
 â”ƒ â”£ ğŸ“‚ View
 â”ƒ â”ƒ â”£ ğŸ“œ LicenseView.swift
 â”ƒ â”ƒ â”£ ğŸ“œ NotificationView.swift
 â”ƒ â”ƒ â”— ğŸ“œ SettingView.swift
 â”ƒ â”£ ğŸ“‚ Model
 â”ƒ â”ƒ â”£ ğŸ“œ LicenseModel.swift
 â”ƒ â”ƒ â”— ğŸ“œ SettingModel.swift
 â”£ ğŸ“‚ Grass
 â”ƒ â”£ ğŸ“‚ View
 â”ƒ â”ƒ â”— ğŸ“œ CommitView.swift
 â”£ ğŸ“‚ Todo
 â”ƒ â”£ ğŸ“‚ View
 â”ƒ â”ƒ â”£ ğŸ“œ TodoView.swift
 â”ƒ â”ƒ â”— ğŸ“œ TodoPreView.swift
 â”ƒ â”£ ğŸ“‚ Model
 â”ƒ â”ƒ â”— ğŸ“œ TodoModel.swift
 â”£ ğŸ“‚ Progress
 â”ƒ â”£ ğŸ“‚ View
 â”ƒ â”ƒ â”£ ğŸ“œ ProgressView.swift
 â”ƒ â”ƒ â”£ ğŸ“œ ModalView.swift
 â”ƒ â”ƒ â”£ ğŸ“œ ProgressBarView.swift
 â”ƒ â”ƒ â”£ ğŸ“œ DdayButtonView.swift
 â”ƒ â”ƒ â”— ğŸ“œ ProgressTextView.swift
 â”£ ğŸ“‚ Helper
 â”ƒ â”£ ğŸ“‚ NotificationHelper
 â”ƒ â”ƒ â”— ğŸ“œ LocalNotificationHelper.swift
 â”ƒ â”£ ğŸ“‚ DarkLightMode
 â”ƒ â”ƒ â”£ ğŸ“œ DLMode.swift
 â”ƒ â”ƒ â”— ğŸ“œ UIButton.swift
 â”ƒ â”£ ğŸ“‚ Extensions
 â”ƒ â”ƒ â”£ ğŸ“œ fontExtension.swift
 â”ƒ â”ƒ â”£ ğŸ“œ CustomSpacing.swift
 â”ƒ â”ƒ â”£ ğŸ“œ colorExtension.swift
 â”ƒ â”ƒ â”— ğŸ“œ DismissGesture.swift
 â”ƒ â”£ ğŸ“‚ Fonts
 â”ƒ â”ƒ â”£ ğŸ“œ Pretendard-Black.otf
 â”ƒ â”ƒ â”£ ğŸ“œ Pretendard-Bold.otf
 â”ƒ â”ƒ â”£ ğŸ“œ Pretendard-ExtraBold.otf
 â”ƒ â”ƒ â”£ ğŸ“œ Pretendard-ExtraLight.otf
 â”ƒ â”ƒ â”£ ğŸ“œ Pretendard-Light.otf
 â”ƒ â”ƒ â”£ ğŸ“œ Pretendard-Medium.otf
 â”ƒ â”ƒ â”£ ğŸ“œ Pretendard-Regular.otf
 â”ƒ â”ƒ â”£ ğŸ“œ Pretendard-SemiBold.otf
 â”ƒ â”ƒ â”— ğŸ“œ Pretendard-Thin.otf.swift
 â”£ ğŸ“œ CYCAPP.swift
 â”£ ğŸ“œ AppDelegate.swift
 â”£ ğŸ“œ StartView.swift
 â”— ğŸ–¼ï¸ Assets
```
